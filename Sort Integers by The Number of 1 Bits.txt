/**
 * @param {number[]} arr
 * @return {number[]}
 */
var sortByBits = function(arr) {
    
    // Helper function to count number of 1 bits
    const countBits = (num) => {
        let count = 0;
        while (num > 0) {
            count += num & 1;
            num >>= 1;
        }
        return count;
    };
    
    return arr.sort((a, b) => {
        const bitsA = countBits(a);
        const bitsB = countBits(b);
        
        if (bitsA === bitsB) {
            return a - b;   // If same number of 1s, sort numerically
        }
        
        return bitsA - bitsB; // Otherwise sort by number of 1s
    });
};